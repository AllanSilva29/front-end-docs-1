---
title: 'Custom Hooks: L√≥gica Reutiliz√°vel'
description: 'Aprenda a criar seus pr√≥prios Custom Hooks para extrair e compartilhar l√≥gica com estado (stateful logic) entre m√∫ltiplos componentes.'
---

import { Aside, Card, CardGrid, Tabs, TabItem } from '@astrojs/starlight/components';

At√© agora, vimos como usar os Hooks que o React nos oferece. Mas o verdadeiro superpoder dos Hooks √© a capacidade de criar os nossos pr√≥prios. Isso √© feito atrav√©s de um padr√£o chamado **Custom Hooks**.

### O Que √© um Custom Hook?

Um Custom Hook n√£o √© um recurso especial. √â simplesmente uma **fun√ß√£o JavaScript cujo nome come√ßa com `use`** e que pode chamar outros Hooks (`useState`, `useEffect`, etc.).

Eles foram criados para resolver um problema fundamental: **como compartilhar l√≥gica com estado entre componentes**.

Imagine que voc√™ tem v√°rios componentes que precisam:
-   Buscar dados de uma API.
-   Rastrear o tamanho da janela do navegador.
-   Verificar se o usu√°rio est√° online.
-   Controlar um formul√°rio.

Em vez de repetir a mesma combina√ß√£o de `useState` e `useEffect` em cada um desses componentes, voc√™ pode extrair essa l√≥gica para um Custom Hook reutiliz√°vel.

## Por Que Criar um Custom Hook?

<CardGrid>
	<Card title="‚ôªÔ∏è Reutiliza√ß√£o de L√≥gica ">
		O principal motivo. Evita a duplica√ß√£o de c√≥digo (DRY - Don't Repeat Yourself) e torna sua base de c√≥digo mais limpa e f√°cil de manter.
	</Card>
	<Card title="üßº Componentes Mais Limpos">
		Seus componentes ficam mais focados na UI (a apar√™ncia) e menos na l√≥gica de estado complexa, que fica encapsulada dentro do Hook.
	</Card>
    <Card title="‚úÖ Testes Simplificados">
		A l√≥gica extra√≠da para um Hook pode ser testada de forma isolada, independente de qualquer componente que a utilize.
	</Card>
</CardGrid>

## Construindo um Exemplo: `useToggle`

Vamos criar um Custom Hook muito simples, mas √∫til: `useToggle`. Ele gerenciar√° um estado booleano e fornecer√° uma fun√ß√£o para altern√°-lo (de `true` para `false` e vice-versa).

<Tabs>
<TabItem label="1. O Custom Hook: useToggle.js">
```jsx
import { useState, useCallback } from 'react';

// Um Custom Hook √© apenas uma fun√ß√£o que come√ßa com "use".
export function useToggle(initialValue = false) {
  // Ele usa Hooks existentes, como o useState.
  const [isOn, setIsOn] = useState(initialValue);

  // Criamos uma fun√ß√£o para alternar o valor.
  // Usamos useCallback para que a refer√™ncia da fun√ß√£o seja est√°vel.
  const toggle = useCallback(() => {
    setIsOn(prevIsOn => !prevIsOn);
  }, []);

  // O Hook retorna o estado e a fun√ß√£o para que o componente possa us√°-los.
  return [isOn, toggle];
}
```
</TabItem>
<TabItem label="2. Usando o Hook em um Componente">
```jsx
import { useToggle } from './useToggle';

function Accordion() {
  // Usamos nosso Custom Hook como qualquer outro Hook.
  const [isOpen, toggleIsOpen] = useToggle(false);

  return (
    <div>
      <h3 onClick={toggleIsOpen} style={{ cursor: 'pointer' }}>
        {isOpen ? 'üëá' : 'üëâ'} T√≠tulo do Acorde√£o
      </h3>
      {isOpen && (
        <p>
          Este √© o conte√∫do que aparece e desaparece.
          A l√≥gica para isso est√° toda encapsulada no nosso `useToggle`!
        </p>
      )}
    </div>
  );
}

function DarkModeSwitch() {
  const [isDarkMode, toggleDarkMode] = useToggle(true);
  
  return (
    <button onClick={toggleDarkMode}>
      Mudar para modo {isDarkMode ? 'Claro' : 'Escuro'}
    </button>
  );
}
```
</TabItem>
</Tabs>

Note como o componente `Accordion` n√£o precisa saber nada sobre `useState`. Ele apenas consome a interface simples que o nosso `useToggle` fornece. A complexidade fica escondida.

## Outros Exemplos Comuns de Custom Hooks

-   **`useFetch(url)`**: Encapsula a l√≥gica de buscar dados, incluindo estados de carregamento e erro.
-   **`useLocalStorage(key, initialValue)`**: Sincroniza um estado do React com o `localStorage` do navegador.
-   **`useWindowSize()`**: Retorna a largura e a altura atuais da janela, atualizando-se quando ela √© redimensionada.

<Aside type="tip">
Sempre que voc√™ se pegar escrevendo a mesma l√≥gica de `useState` e `useEffect` em mais de um componente, √© um forte sinal de que voc√™ pode extrair essa l√≥gica para um Custom Hook.
</Aside>

---

**Parab√©ns!** Voc√™ completou a jornada pelos Hooks Essenciais. Agora voc√™ entende como dar estado aos componentes, lidar com efeitos colaterais, otimizar a performance, gerenciar o DOM e, o mais importante, criar suas pr√≥prias abstra√ß√µes reutiliz√°veis.

